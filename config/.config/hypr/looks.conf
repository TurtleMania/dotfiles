# TODO: add PREF tags
# TODO: review this config

general {
    border_size = 1
    gaps_in = 5
    gaps_out = 10
    float_gaps = 10
    gaps_workspaces = 0

    col.inactive_border = $color2
    col.active_border = $color11 45deg
    col.nogroup_border = $color2
    col.nogroup_border_active = $color11 45deg
    
    layout = dwindle

    no_focus_fallback = true
    resize_on_border = no
    #extend_border_grab_area = 15
    #hover_icon_on_border = false
    allow_tearing = false
    resize_corner = 1
    modal_parent_blocking = no
    #locale = en_US

    snap {
        enabled = no
        window_gap = 10
        monitor_gap = 10
        border_overlap = false
        respect_gaps = true
    }
}

decoration {
    rounding = 10
    rounding_power = 2

    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0
    dim_modal = true
    dim_inactive = false
    dim_strength = 0.2
    dim_special = 0.1
    #dim_around = 0.4
    #screen_shader = 
    border_part_of_window = true

    blur {
        # TODO: play around with more
        # NOTE: may be generated
        enabled = yes
        size = 3
        passes = 2
        ignore_opacity = true
        new_optimizations = true
        xray = yes
        noise = 0.0
        contrast = 1.0
        brightness = 1.0
        vibrancy = 1.0
        vibrancy_darkness = 0.0

        special = false
        popups = false
        #popups_ignorealpha = 0.2
        input_methods = false
        #input_methods_ignorealpha = 0.2
    }

    shadow {
        # TODO: play around with more
        # NOTE: may be generated
        enabled = yes
        range = 4
        render_power = 3
        sharp = false
        ignore_window = true
        color = rgba(1a1a1aee)
        #color_inactive = rgba(1a1a1aee)
        #offset = 5 5
    }
}

animations {
    enabled = yes
    workspace_wraparound = false

    # TODO: create usable, but pleasing animation curves
    animation = windows, 0
    animation = layers, 0
    animation = fade, 0
    animation = border, 0
    animation = borderangle, 0
    animation = workspaces, 0
    animation = zoomFactor, 0
    animation = monitorAdded, 0
}

group {
    # TODO: review what hyprland groups are and review this config
    auto_group = false
    insert_after_current = true
    focus_removed_window = true
    drag_into_group = 1
    merge_groups_on_drag = true
    merge_groups_on_groupbar = true
    merge_floated_into_tiled_on_groupbar = false
    group_on_movetoworkspace = false
    col.border_active = $color1
    col.border_inactive = $color12
    col.border_locked_active = $color1
    col.border_locked_inactive = $color12
    groupbar {
        enabled = true
        font_family = 
        font_size = 8
        font_weight_active = normal
        font_weight_inactive = normal
        gradients = false
        height = 14
        indicator_gap = 0
        indicator_height = 3
        stacked = false
        priority = 3
        render_titles = true
        text_offset = 0
        scrolling = true
        rounding = 1
        rounding_power = 2.0
        gradient_rounding = 2
        gradient_rounding_power = 2.0
        round_only_edges = true
        gradient_round_only_edges = true
        text_color = $foreground
        #text_color_inactive = $foreground
        #text_color_locked_active = $foreground
        #text_color_locked_inactive = $foreground
        col.active = $color10
        col.inactive = $color3
        col.locked_active = $color10
        col.locked_inactive = $color10
        gaps_in = 2
        gaps_out = 2
        keep_upper_gap = true
        blur = false
    }
}

xwayland {
    # TODO: review this config
    enabled = yes
    use_nearest_neighbor = true
    force_zero_scaling = false
    create_abstract_socket = false
}

opengl {
    # TODO: review this config
    nvidia_anti_flicker = true
}

render {
    # TODO: review this config
    direct_scanout = 0
    expand_undersized_textures = true
    xp_mode = false
    ctm_animation = 2
    cm_fs_passthrough = 2
    cm_enabled = true
    send_content_type = true
    cm_auto_hdr = 1
    new_render_scheduling = false
    non_shader_cm = 3
    cm_sdr_eotf = 0
}

ecosystem {
    # TODO: review this config
    no_update_news = true
    no_donation_nag = true
    enforce_permissions = false
}


misc {
    # TODO: review this config
    disable_hyprland_logo = false
    disable_splash_rendering = true
    disable_scale_notification = false
    col.splash = 0xffffffff
    font_family = Sans
    #splash_font_family = Sans
    force_default_wallpaper = 1

    vfr = true
    vrr = 3
    mouse_move_enables_dpms = false
    key_press_enables_dpms = false

    name_vk_after_proc = true
    always_follow_on_dnd = true
    layers_hog_keyboard_focus = true
    animate_manual_resizes = false
    animate_mouse_windowdragging = false
    disable_autoreload = false

    enable_swallow = false
    swallow_regex = 
    swallow_exception_regex = 

    focus_on_activate = false
    mouse_move_focuses_monitor = true
    allow_session_lock_restore = false
    session_lock_xray = false
    background_color = $background
    close_special_on_empty = true
    on_focus_under_fullscreen = 2
    exit_window_retains_fullscreen = false
    initial_workspace_tracking = 1

    middle_click_paste = false
    render_unfocused_fps = 15
    disable_xdg_env_checks = false
    #disable_hyprland_qtutils_check = false # NOTE: Option gives an error despite being documented (https://wiki.hypr.land/Configuring/Variables/#binds:~:text=disable%5Fhyprland%5Fqtutils%5Fcheck)
    lockdead_screen_delay = 1000
    enable_anr_dialog = true
    anr_missed_pings = 5
    size_limits_tiled = false
    disable_watchdog_warning = false
}

quirks {
    # TODO: review this config
    prefer_hdr = 0
}

debug {
    # TODO: review this config
    overlay = false
    disable_logs = true
    disable_time = true
    error_limit = 5
    error_position = 1
}
